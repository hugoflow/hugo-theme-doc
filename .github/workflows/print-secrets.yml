name: Print Secrets Directly

on:
  workflow_dispatch: # 允许手动触发

jobs:
  print_secrets_job:
    runs-on: ubuntu-latest
    steps:
      - name: Attempt to print FIREBASE_SERVICE_ACCOUNT directly
        run: |
          echo "Attempting to print FIREBASE_SERVICE_ACCOUNT directly:"
          echo "Value is: ${{ secrets.FIREBASE_SERVICE_ACCOUNT }}"
          echo "--- End of direct print attempt for FIREBASE_SERVICE_ACCOUNT ---"
          echo "" # 空行

      - name: Attempt to print FIREBASE_PROJECT_ID directly
        run: |
          echo "Attempting to print FIREBASE_PROJECT_ID directly:"
          echo "Value is: ${{ secrets.FIREBASE_PROJECT_ID }}"
          echo "--- End of direct print attempt for FIREBASE_PROJECT_ID ---"
          echo "" # 空行

      # 为了对比，这里也加上 Base64 的方法
      - name: Print FIREBASE_SERVICE_ACCOUNT (Base64 Encoded for actual content check)
        env:
          SECRET_CONTENT_SERVICE_ACCOUNT: ${{ secrets.FIREBASE_SERVICE_ACCOUNT }}
        run: |
          echo "FIREBASE_SERVICE_ACCOUNT (Base64 Encoded - for actual content check):"
          if [ -z "$SECRET_CONTENT_SERVICE_ACCOUNT" ]; then
            echo "FIREBASE_SERVICE_ACCOUNT is empty or not set."
          else
            echo "$SECRET_CONTENT_SERVICE_ACCOUNT" | base64
            echo "Decode this Base64 string to see the actual content."
          fi
          echo "--- End of Base64 Encoded FIREBASE_SERVICE_ACCOUNT ---"
          echo ""

      - name: Print FIREBASE_PROJECT_ID (Base64 Encoded for actual content check)
        env:
          SECRET_CONTENT_PROJECT_ID: ${{ secrets.FIREBASE_PROJECT_ID }}
        run: |
          echo "FIREBASE_PROJECT_ID (Base64 Encoded - for actual content check):"
          if [ -z "$SECRET_CONTENT_PROJECT_ID" ]; then
            echo "FIREBASE_PROJECT_ID is empty or not set."
          else
            echo "$SECRET_CONTENT_PROJECT_ID" | base64
            echo "Decode this Base64 string to see the actual content."
          fi
          echo "--- End of Base64 Encoded FIREBASE_PROJECT_ID ---"
          echo ""

      - name: Important Security Reminder
        run: |
          echo "!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!"
          echo "!!! SECURITY WARNING: Base64 content was printed to logs.          !!!"
          echo "!!! Review the logs, get the info you need, then DELETE this        !!!"
          echo "!!! workflow run and REMOVE or COMMENT OUT the debugging steps      !!!"
          echo "!!! from your workflow file IMMEDIATELY.                            !!!"
          echo "!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!"